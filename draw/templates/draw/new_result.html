{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-core.min.js"></script>
        <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-radar.min.js"></script>
    </head>
    <style type="text/css">
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #container{
            width: 100%;
            height: 50%;
            margin: 0;
            padding: 0;
        }
    </style>
    <body>
        
        <div id="container"></div>
        <div id="wrong_question"></div>
        <script>
            //chart
            anychart.onDocumentReady(function () {

                // our data from bulbapedia
                var data1 = [
                    {x: "HP", value: 39},
                    {x: "Attack", value: 52},
                    {x: "Defense", value: 43},
                ];

                var data2 = [
                    {x: "HP", value: 45},
                    {x: "Attack", value: 49},
                    {x: "Defense", value: 49},
                ];  

                // create radar chart
                var chart = anychart.radar();

                //fontSize
                chart.title().fontSize(70)
                chart.legend().fontSize(30)
                chart.yAxis().labels().fontSize(20)
                chart.xAxis().labels().fontSize(30)
                // set chart yScale settings
                chart.yScale()
                .minimum(35)
                .maximum(65)
                .ticks({'interval':5});

                // create first series
                chart.area(data1).name('Charmander').markers(true).fill("#E55934", 0.3).stroke("#E55934")
                // create second series
                chart.area(data2).name('Bulbasaur').markers(true).fill("#9BC53D", 0.3).stroke("#9BC53D")
                       
                // set chart title
                // chart.title("Performance by Categories")
                // set legend
                //.legend(true);
                chart.legend(true)
                chart.legend().positionMode("inside").position("bottom").align("center")
                // chart.title().orientation("bottom")
                // color alternating cells
                chart.yGrid().palette(["gray 0.1", "gray 0.2"]);
                
                // set container id for the chart
                chart.container('container');
                // initiate chart drawing
                chart.draw();

            });
            
            //wrong question 
            var qaw = localStorage.getItem("answered_wrong")
            var wrong = localStorage.getItem("wrong_answer")
            var wrong_answer = []
            var question_answered_wrong = []
            let k =0
            for(let i=0 ; i<wrong.length ; i++){
                if(wrong[i] == ','){
                    wrong_answer.push(wrong.slice(k,i))
                    k = i+1
                }
            }
            wrong_answer.push(wrong.slice(k))

            k = 0
            for(let i=0 ; i<qaw.length ; i++){
                if(qaw[i] == ','){
                    question_answered_wrong.push(qaw.slice(k,i))
                    k = i+1
                }
            }
            question_answered_wrong.push(qaw.slice(k))

            var wrong_question_sec = document.getElementById('wrong_question')
            for(let i=0 ; i<wrong_answer.length ; i++){
                var question_title = document.createElement('div')
                var user_answer = document.createElement('div')
                question_title.innerHTML = question_answered_wrong[i]
                user_answer.innerHTML = wrong_answer[i]
                wrong_question_sec.appendChild(question_title)
                wrong_question_sec.appendChild(user_answer)
            }
            
        </script>
    </body>

</html>